<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GigHala - {% if lang == 'ms' %}Platform GigHala #1 Malaysia{% else %}Malaysia's #1 Halal Gig Platform{% endif %}</title>
    <meta name="description" content="{% if lang == 'ms' %}Platform gig halal terbesar di Malaysia. Cari kerja freelance, side hustle, dan projek sambilan dengan pendapatan RM800-RM4000 sebulan.{% else %}Malaysia's largest halal gig platform. Find freelance work, side hustles, and part-time projects earning RM800-RM4000 per month.{% endif %}">
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Crimson+Pro:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Islamic/Western Date Bar -->
    <div class="date-bar" style="background: #06402B; text-align: right; padding: 10px 24px; font-size: 14px; color: white; border-bottom: 1px solid rgba(0,200,83,0.2);">
        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 12px;">
            <span style="color: #4ade80; font-weight: 600;">{{ today_hijri }}</span>
            <span style="color: rgba(255,255,255,0.4);">|</span>
            <span style="color: rgba(255,255,255,0.8);">{{ today_gregorian }}</span>
        </div>
    </div>

    <div id="app">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="container navbar-container">
                <div class="navbar-top" style="display: flex; align-items: center; gap: 24px; flex-wrap: nowrap;">
                    <div class="nav-brand" style="flex-shrink: 0;">
                        <img src="/static/logo.png" alt="GigHala">
                        <span>GigHala</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 5px; flex-shrink: 0; display: none;" id="payhalal-brand" onclick="window.open('https://www.payhalal.my', '_blank')">
                        <div style="height: 14px; width: 1px; background: #ddd;"></div>
                        <span style="font-size: 6px; font-weight: 700; color: #64748b; letter-spacing: 0.5px; white-space: nowrap; cursor: pointer;">OFFICIAL PARTNER:</span>
                        <img src="/static/images/payhalal-logo.png" alt="PayHalal" style="height: 16px; width: auto; object-fit: contain; cursor: pointer;">
                    </div>

                    <style>
                        @media (min-width: 769px) {
                            #payhalal-brand {
                                display: flex !important;
                            }
                        }
                    </style>
                    
                    <div class="nav-links" style="display: flex; align-items: center; gap: 20px; flex-wrap: nowrap;">
                        <a href="https://gighala.calmic.com.my/about" class="nav-link" target="_blank" style="color: #404145; text-decoration: none; font-weight: 500; white-space: nowrap;">Tentang Kami</a>
                        <button onclick="toggleLanguage()" class="lang-switcher" title="Switch language / Tukar bahasa" style="background: transparent; border: none; color: #3b82f6; padding: 8px; cursor: pointer; font-size: 20px; flex-shrink: 0;">
                        </button>
                        <div class="nav-auth-buttons" style="display: flex; align-items: center; gap: 12px; flex-shrink: 0;">
                            <button class="btn-nav" onclick="app.showLogin()">Log Masuk</button>
                            <button class="btn-primary" onclick="app.showRegister()">Daftar Percuma</button>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div style="background: #F46C22; width: 100%; padding: 25px; color: white; text-align: center; position: relative; z-index: 10;">
            <div class="container">
                <h2 style="font-size: 37.5px; font-weight: 800; margin-bottom: 6px; letter-spacing: 1px;">10% PLATFORM FI SELAMANYA! ‚òÄÔ∏è</h2>
                <div style="font-size: 25px; font-weight: 600; margin-bottom: 4px;">Untuk Early Adopters yang daftar sehingga 31 Disember 2025</div>
                <div style="font-size: 20px; opacity: 0.9;">üöÄ Jangan lepaskan peluang lock in kadar rendah forever.</div>
                
                <!-- Countdown Timer -->
                <div id="countdownContainer" style="font-size: 28px; font-weight: 800; margin: 16px 0; padding: 16px; background: rgba(0,0,0,0.15); border-radius: 12px; display: inline-block; min-width: 250px;">
                    <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Masa Tinggal</div>
                    <div id="countdownTimer" style="font-size: 32px; font-weight: 900; letter-spacing: 2px;">
                        ‚è≥ Loading...
                    </div>
                    <div style="font-size: 12px; opacity: 0.85; margin-top: 8px;">hingga 01/01/2026</div>
                </div>
                
                <div style="font-size: 15.5px; margin-top: 12px; opacity: 0.8; font-style: italic; line-height: 1.4;">
                    GigHala sedang dalam Heavy Beta Test (Semua sistem berfungsi kecuali billing system - join sekarang & test platform kami!). Target Live Date 01/01/2026.<br>
                    Pembayaran selamat via PayHalal | Dimiliki Calmic Sdn Bhd
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-decoration"></div>
            <div class="container">
                <div class="hero-content">
                    <div class="hero-badge" style="background: white; border: 1px solid #eee; padding: 8px 16px; border-radius: 100px; display: inline-flex; align-items: center; gap: 8px; margin-bottom: 24px;">
                        <span>üî•</span> {{ user_count|default(3) }}+ Users Registered
                    </div>
                    <h1 class="hero-title" style="font-size: 72px; font-weight: 800; line-height: 1.1; color: #06402B;">
                        Jana Pendapatan<br>
                        <span style="color: #2D9B7B;">Halal & Berkah</span><br>
                        dari Rumah
                    </h1>
                    <p class="hero-description">
                        {{ t('hero_description') }}
                    </p>

                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="totalGigs">{{ active_gigs_count|default(2847)|int }}</div>
                            <div class="stat-label">{{ t('active_gigs_stat') }}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">{{ total_paid_year|default('RM 2.3J') }}</div>
                            <div class="stat-label">{{ t('paid_this_year') }}</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">24 Jam</div>
                            <div class="stat-label">{{ t('instant_payout') }}</div>
                            <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(13, 124, 102, 0.2); color: var(--primary-green); font-size: 12px; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                üîí {{ 'Escrow Protected' if lang == 'en' else 'Perlindungan Escrow' }}
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" style="color: var(--primary-green);">üîí 100%</div>
                            <div class="stat-label">{{ 'Escrow Protection' if lang == 'en' else 'Perlindungan Escrow' }}</div>
                            <div style="margin-top: 8px; padding-top: 8px; border-top: 1px solid rgba(13, 124, 102, 0.2); color: var(--text-gray); font-size: 12px; font-weight: 500; display: flex; align-items: center; justify-content: center; gap: 4px; text-align: center; line-height: 1.4;">
                                {{ 'Client pays first ‚Äì work without worry' if lang == 'en' else 'Client bayar dulu ‚Äì kerja tanpa risau' }}
                            </div>
                        </div>
                        <div class="stat-item socso-card" style="position: relative; cursor: help;">
                            <div class="stat-number" style="color: var(--primary-green); font-size: 28px; margin-bottom: 12px;">üìã</div>
                            <div class="stat-number" style="color: var(--primary-green); font-size: 18px; font-weight: 700;">Perlindungan SOCSO</div>
                            <div class="stat-label" style="color: var(--primary-green); font-weight: 600; font-size: 14px;">Bersepadu</div>
                            
                            <!-- Hover Tooltip -->
                            <div class="socso-tooltip" style="display: none; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: white; border: 2px solid var(--primary-green); border-radius: 12px; padding: 16px; width: 280px; box-shadow: 0 8px 24px rgba(13, 124, 102, 0.15); z-index: 1000; margin-bottom: 12px;">
                                <div style="color: var(--text-gray); font-size: 13px; line-height: 1.6; margin-bottom: 12px;">
                                    GigHala potong &amp; bayar caruman SOCSO terus dari pendapatan anda ‚Äì automatik &amp; mudah. Dapatkan faedah penuh: rawatan perubatan, elaun kecacatan, pencen invaliditi &amp; perlindungan kemalangan kerja. Patuh Gig Workers Bill 2025!
                                </div>
                                <div style="padding-top: 12px; border-top: 1px solid rgba(13, 124, 102, 0.2); color: var(--primary-green); font-size: 12px; font-weight: 600; text-align: center; line-height: 1.4;">
                                    ‚ú® Freelancer lain kena urus sendiri ‚Äì di GigHala, kami tanggung untuk anda.
                                </div>
                                <!-- Tooltip Arrow -->
                                <div style="position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 8px solid white;"></div>
                            </div>
                        </div>
                    </div>

                    <div class="hero-cta">
                        <button class="btn-hero-primary" onclick="app.showRegister()">
                            {{ t('start_earning') }}
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <button class="btn-hero-secondary" onclick="app.scrollTo('cara-kerja')">
                            {{ t('watch_demo') }}
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="M8 7L13 10L8 13V7Z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>

                    <div class="hero-trust">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="40" height="40" rx="8" fill="#0D7C66"/><path d="M20 10L28 15V25L20 30L12 25V15L20 10Z" stroke="white" stroke-width="2"/><path d="M16 20L19 23L24 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        <span>{{ t('registered_ssm') }}</span>
                    </div>
                </div>
                
                <div class="hero-visual">
                    <div class="gig-card-floating gig-1">
                        <div class="gig-card-mini">
                            <span class="gig-icon">üé®</span>
                            <div>
                                <div class="gig-title-mini">Design Logo</div>
                                <div class="gig-price-mini">RM 250-500</div>
                            </div>
                            <span class="halal-mini">HALAL</span>
                        </div>
                    </div>
                    
                    <div class="gig-card-floating gig-2">
                        <div class="gig-card-mini">
                            <span class="gig-icon">‚úçÔ∏è</span>
                            <div>
                                <div class="gig-title-mini">Translate Content</div>
                                <div class="gig-price-mini">RM 400-800</div>
                            </div>
                            <span class="instant-mini">‚ö° INSTANT</span>
                        </div>
                    </div>
                    
                    <div class="gig-card-floating gig-3">
                        <div class="gig-card-mini">
                            <span class="gig-icon">üé¨</span>
                            <div>
                                <div class="gig-title-mini">Edit Video TikTok</div>
                                <div class="gig-price-mini">RM 150-300</div>
                            </div>
                            <span class="brand-mini">üåü BRAND</span>
                        </div>
                    </div>
                    
                    <div class="earnings-popup">
                        <div class="popup-icon">üí∞</div>
                        <div>
                            <div class="popup-title">{{ t('payment_received_popup') }}</div>
                            <div class="popup-amount">+ RM 450.00</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section id="kategori" class="categories-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ t('popular_categories') }}</h2>
                    <p class="section-subtitle">{{ t('choose_skill_subtitle') }}</p>
                </div>

                <div class="categories-grid" id="categoriesGrid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Gigs Section -->
        <section id="cari-gig" class="gigs-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ t('latest_gigs') }}</h2>
                    <div class="gigs-filters">
                        <input type="text" class="search-input" placeholder="{{ t('search_gigs') }}" id="searchInput">
                        <select class="filter-select" id="categoryFilter">
                            <option value="">{{ t('all_categories') }}</option>
                        </select>
                        <input
                            type="text"
                            class="filter-select"
                            id="locationFilter"
                            list="locationsListFilter"
                            placeholder="{{ t('all_locations') }}"
                        >
                        <datalist id="locationsListFilter">
                            <option value="">
                            <option value="Remote">
                            <option value="Batu Pahat, Johor">
                            <option value="Johor Bahru, Johor">
                            <option value="Kluang, Johor">
                            <option value="Kota Tinggi, Johor">
                            <option value="Kulai, Johor">
                            <option value="Mersing, Johor">
                            <option value="Muar, Johor">
                            <option value="Pontian, Johor">
                            <option value="Segamat, Johor">
                            <option value="Tangkak, Johor">
                            <option value="Alor Setar, Kedah">
                            <option value="Baling, Kedah">
                            <option value="Bandar Baharu, Kedah">
                            <option value="Kota Setar, Kedah">
                            <option value="Kuala Muda, Kedah">
                            <option value="Kubang Pasu, Kedah">
                            <option value="Kulim, Kedah">
                            <option value="Langkawi, Kedah">
                            <option value="Padang Terap, Kedah">
                            <option value="Pendang, Kedah">
                            <option value="Pokok Sena, Kedah">
                            <option value="Sik, Kedah">
                            <option value="Yan, Kedah">
                            <option value="Bachok, Kelantan">
                            <option value="Gua Musang, Kelantan">
                            <option value="Jeli, Kelantan">
                            <option value="Kota Bharu, Kelantan">
                            <option value="Kuala Krai, Kelantan">
                            <option value="Machang, Kelantan">
                            <option value="Pasir Mas, Kelantan">
                            <option value="Pasir Puteh, Kelantan">
                            <option value="Tanah Merah, Kelantan">
                            <option value="Tumpat, Kelantan">
                            <option value="Alor Gajah, Melaka">
                            <option value="Jasin, Melaka">
                            <option value="Melaka Tengah, Melaka">
                            <option value="Jelebu, Negeri Sembilan">
                            <option value="Jempol, Negeri Sembilan">
                            <option value="Kuala Pilah, Negeri Sembilan">
                            <option value="Port Dickson, Negeri Sembilan">
                            <option value="Rembau, Negeri Sembilan">
                            <option value="Seremban, Negeri Sembilan">
                            <option value="Tampin, Negeri Sembilan">
                            <option value="Bentong, Pahang">
                            <option value="Bera, Pahang">
                            <option value="Cameron Highlands, Pahang">
                            <option value="Jerantut, Pahang">
                            <option value="Kuantan, Pahang">
                            <option value="Lipis, Pahang">
                            <option value="Maran, Pahang">
                            <option value="Pekan, Pahang">
                            <option value="Raub, Pahang">
                            <option value="Rompin, Pahang">
                            <option value="Temerloh, Pahang">
                            <option value="Barat Daya, Penang">
                            <option value="Seberang Perai Selatan, Penang">
                            <option value="Seberang Perai Tengah, Penang">
                            <option value="Seberang Perai Utara, Penang">
                            <option value="Timur Laut, Penang">
                            <option value="Batang Padang, Perak">
                            <option value="Hilir Perak, Perak">
                            <option value="Hulu Perak, Perak">
                            <option value="Kampar, Perak">
                            <option value="Kerian, Perak">
                            <option value="Kinta, Perak">
                            <option value="Kuala Kangsar, Perak">
                            <option value="Larut, Matang dan Selama, Perak">
                            <option value="Manjung, Perak">
                            <option value="Muallim, Perak">
                            <option value="Perak Tengah, Perak">
                            <option value="Arau, Perlis">
                            <option value="Kangar, Perlis">
                            <option value="Padang Besar, Perlis">
                            <option value="Beaufort, Sabah">
                            <option value="Beluran, Sabah">
                            <option value="Keningau, Sabah">
                            <option value="Kinabatangan, Sabah">
                            <option value="Kota Belud, Sabah">
                            <option value="Kota Kinabalu, Sabah">
                            <option value="Kota Marudu, Sabah">
                            <option value="Kuala Penyu, Sabah">
                            <option value="Kudat, Sabah">
                            <option value="Kunak, Sabah">
                            <option value="Lahad Datu, Sabah">
                            <option value="Nabawan, Sabah">
                            <option value="Papar, Sabah">
                            <option value="Penampang, Sabah">
                            <option value="Pitas, Sabah">
                            <option value="Putatan, Sabah">
                            <option value="Ranau, Sabah">
                            <option value="Sandakan, Sabah">
                            <option value="Semporna, Sabah">
                            <option value="Sipitang, Sabah">
                            <option value="Tambunan, Sabah">
                            <option value="Tawau, Sabah">
                            <option value="Tenom, Sabah">
                            <option value="Tuaran, Sabah">
                            <option value="Asajaya, Sarawak">
                            <option value="Belaga, Sarawak">
                            <option value="Betong, Sarawak">
                            <option value="Bintulu, Sarawak">
                            <option value="Dalat, Sarawak">
                            <option value="Daro, Sarawak">
                            <option value="Kapit, Sarawak">
                            <option value="Kuching, Sarawak">
                            <option value="Lawas, Sarawak">
                            <option value="Limbang, Sarawak">
                            <option value="Lubok Antu, Sarawak">
                            <option value="Marudi, Sarawak">
                            <option value="Matu, Sarawak">
                            <option value="Miri, Sarawak">
                            <option value="Mukah, Sarawak">
                            <option value="Pakan, Sarawak">
                            <option value="Pusa, Sarawak">
                            <option value="Saratok, Sarawak">
                            <option value="Sarikei, Sarawak">
                            <option value="Serian, Sarawak">
                            <option value="Sibu, Sarawak">
                            <option value="Simunjan, Sarawak">
                            <option value="Subis, Sarawak">
                            <option value="Gombak, Selangor">
                            <option value="Hulu Langat, Selangor">
                            <option value="Hulu Selangor, Selangor">
                            <option value="Klang, Selangor">
                            <option value="Kuala Langat, Selangor">
                            <option value="Kuala Selangor, Selangor">
                            <option value="Petaling, Selangor">
                            <option value="Sabak Bernam, Selangor">
                            <option value="Sepang, Selangor">
                            <option value="Besut, Terengganu">
                            <option value="Dungun, Terengganu">
                            <option value="Hulu Terengganu, Terengganu">
                            <option value="Kemaman, Terengganu">
                            <option value="Kuala Nerus, Terengganu">
                            <option value="Kuala Terengganu, Terengganu">
                            <option value="Marang, Terengganu">
                            <option value="Setiu, Terengganu">
                            <option value="Kuala Lumpur">
                            <option value="Labuan">
                            <option value="Putrajaya">
                        </datalist>
                        <label class="halal-filter">
                            <input type="checkbox" id="halalFilter" checked>
                            <span>{{ t('halal_only') }}</span>
                        </label>
                    </div>
                </div>

                <div class="gigs-grid" id="gigsGrid">
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="load-more">
                    <button class="btn-secondary" onclick="app.loadMoreGigs()">{{ t('view_more') }}</button>
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <section id="cara-kerja" class="how-it-works">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">{{ t('how_it_works') }}</h2>
                    <p class="section-subtitle">{{ t('easy_fast_subtitle') }}</p>
                </div>

                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-number">01</div>
                        <div class="step-icon">üìù</div>
                        <h3 class="step-title">{{ t('step_1_title') }}</h3>
                        <p class="step-description">{{ t('step_1_desc') }}</p>
                    </div>

                    <div class="step-card">
                        <div class="step-number">02</div>
                        <div class="step-icon">üîç</div>
                        <h3 class="step-title">{{ t('step_2_title') }}</h3>
                        <p class="step-description">{{ t('step_2_desc') }}</p>
                    </div>

                    <div class="step-card">
                        <div class="step-number">03</div>
                        <div class="step-icon">üíº</div>
                        <h3 class="step-title">{{ t('step_3_title') }}</h3>
                        <p class="step-description">{{ t('step_3_desc') }}</p>
                    </div>

                    <div class="step-card">
                        <div class="step-number">04</div>
                        <div class="step-icon">üí∞</div>
                        <h3 class="step-title">{{ t('step_4_title') }}</h3>
                        <span style="display: inline-block; background: rgba(13, 124, 102, 0.15); color: var(--primary-green); padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; margin-bottom: 8px;">üîí Escrow Protected</span>
                        <p class="step-description">{{ t('step_4_desc') }}</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Benefits Section -->
        <section class="benefits-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Kenapa Pilih GigHala?</h2>
                    <p class="section-subtitle">Platform yang dirancang khusus untuk freelancer Malaysia</p>
                </div>

                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">üí∞</div>
                        <h3 class="benefit-title">Pendapatan Fleksibel</h3>
                        <p class="benefit-text">Kerja bila-bila, dari mana-mana. Tidak ada batasan kerja, semua bergantung pada anda.</p>
                    </div>

                    <div class="benefit-card">
                        <div class="benefit-icon">üéØ</div>
                        <h3 class="benefit-title">Peluang Tanpa Had</h3>
                        <p class="benefit-text">Ribuan gig untuk pelbagai skill. Dari design, writing, programming, hingga tutoring.</p>
                    </div>

                    <div class="benefit-card">
                        <div class="benefit-icon">üîí</div>
                        <h3 class="benefit-title">Bayaran Selamat & Cepat</h3>
                        <p class="benefit-text">Escrow protection + payout mingguan. Dana anda terlindungi sehingga kerja selesai.</p>
                    </div>

                    <div class="benefit-card">
                        <div class="benefit-icon">üá≤üáæ</div>
                        <h3 class="benefit-title">Sokongan Lokal</h3>
                        <p class="benefit-text">Khusus untuk pasaran Malaysia. Memahami kebolehan dan regulasi lokal anda.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2 class="cta-title">{{ t('ready_to_earn') }}</h2>
                    <p class="cta-description">{{ t('join_freelancers') }}</p>
                    <button class="btn-cta" onclick="app.showRegister()">{{ t('register_now_free') }}</button>
                    <div class="cta-note">{{ t('cta_benefits') }}</div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-col">
                        <div class="footer-brand">
                            <span class="logo-text">GigHala</span>
                        </div>
                        <p class="footer-description">{{ t('footer_description') }}</p>
                        <div class="footer-social">
                            <a href="#" class="social-link">Facebook</a>
                            <a href="#" class="social-link">Instagram</a>
                            <a href="#" class="social-link">TikTok</a>
                            <a href="#" class="social-link">Twitter/X</a>
                        </div>
                    </div>

                    <div class="footer-col">
                        <h4 class="footer-heading">{{ t('platform') }}</h4>
                        <ul class="footer-links">
                            <li><a href="/about">{{ t('about_us') }}</a></li>
                            <li><a href="#cari-gig">{{ t('find_gigs') }}</a></li>
                            <li><a href="#kategori">{{ t('categories') }}</a></li>
                            <li><a href="#cara-kerja">{{ t('how_it_works') }}</a></li>
                            <li><a href="#">{{ t('pricing') }}</a></li>
                        </ul>
                    </div>

                    <div class="footer-col">
                        <h4 class="footer-heading">{{ t('resources') }}</h4>
                        <ul class="footer-links">
                            <li><a href="#">{{ t('blog') }}</a></li>
                            <li><a href="#">{{ t('freelancer_guide') }}</a></li>
                            <li><a href="#">{{ t('faq') }}</a></li>
                            <li><a href="#">{{ t('support') }}</a></li>
                        </ul>
                    </div>

                    <div class="footer-col">
                        <h4 class="footer-heading">{{ t('legal') }}</h4>
                        <ul class="footer-links">
                            <li><a href="#">{{ t('terms_conditions') }}</a></li>
                            <li><a href="#">{{ t('privacy_policy') }}</a></li>
                            <li><a href="#">{{ t('halal_compliance') }}</a></li>
                            <li><a href="#">{{ t('gig_workers_bill') }}</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <div class="payhalal-notice" style="width: 100%; text-align: center; margin-bottom: 24px; padding: 16px; background: rgba(0, 200, 83, 0.05); border-radius: 12px; border: 1px solid rgba(0, 200, 83, 0.1);">
                        <img src="/static/images/payhalal-logo.png" alt="PayHalal" style="height: 40px; margin-bottom: 12px;">
                        <p style="color: #fff; font-size: 14px; font-weight: 500; margin: 0;">{{ t('payhalal_notice') }}</p>
                    </div>
                    <div class="footer-company">
                        <img src="/static/images/calmic-logo.png" alt="Calmic Sdn Bhd" class="calmic-logo">
                        <p>{{ t('rights_reserved') }}</p>
                    </div>
                    <div class="visitor-counter">
                        <span>üëÅÔ∏è {{ t('visitor_count') }} <strong id="visitorCount">{{ visitor_count }}</strong></span>
                    </div>
                    <div class="footer-badges">
                        <span class="badge">{{ t('ssm_registered') }}</span>
                        <span class="badge">{{ t('secure_payment') }}</span>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Modal: Login -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="app.closeModal('loginModal')">&times;</button>
                <h2 class="modal-title">{{ t('login_title') }}</h2>
                <form id="loginForm" onsubmit="app.handleLogin(event)">
                    <div class="form-group">
                        <label>{{ t('email') }}</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>{{ t('password') }}</label>
                        <input type="password" name="password" required>
                    </div>
                    <button type="submit" class="btn-modal-primary">{{ t('login') }}</button>

                    <div style="margin: 20px 0; text-align: center; position: relative;">
                        <span style="background: white; padding: 0 10px; position: relative; z-index: 1; color: #666;">or continue with</span>
                        <hr style="position: absolute; top: 50%; left: 0; right: 0; z-index: 0; border: none; border-top: 1px solid #ddd;">
                    </div>

                    <div class="social-login-buttons">
                        <a href="/api/auth/google" class="btn-social btn-google">
                            <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill="#4285F4"/>
                                <path d="M9.003 18c2.43 0 4.467-.806 5.956-2.184L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z" fill="#34A853"/>
                                <path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                                <path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill="#EA4335"/>
                            </svg>
                            Google
                        </a>

                    </div>

                    <p class="modal-footer-text">{{ t('no_account') }} <a href="#" onclick="app.switchToRegister()">{{ t('register_now') }}</a></p>
                </form>
            </div>
        </div>

        <!-- Modal: Register -->
        <div id="registerModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="app.closeModal('registerModal')">&times;</button>
                <h2 class="modal-title">{{ t('register_title') }}</h2>
                <form id="registerForm" onsubmit="app.handleRegister(event)">
                    <div class="form-group">
                        <label>{{ t('full_name') }}</label>
                        <input type="text" name="full_name" required>
                    </div>
                    <div class="form-group">
                        <label>{{ t('username') }}</label>
                        <input type="text" name="username" required>
                    </div>
                    <div class="form-group">
                        <label>{{ t('email') }}</label>
                        <input type="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label>{{ t('phone_number') }}</label>
                        <input type="tel" name="phone" placeholder="+60">
                    </div>
                    <div class="form-group">
                        <label>{{ t('ic_passport_no') }}</label>
                        <input type="text" name="ic_number" required placeholder="No. MyKad/Passport" maxlength="20" disabled style="background-color: #e9ecef; cursor: not-allowed; color: #6c757d; border-color: #dee2e6;">
                        <small style="display: block; margin-top: 4px; color: #6c757d; font-style: italic;">Sistem verifikasi IC/Pasport akan dikendalikan secara berasingan.</small>
                        <small style="color: #666; font-size: 12px;">{{ t('ic_passport_hint') }}</small>
                    </div>
                    <div class="form-group">
                        <label>{{ t('password') }}</label>
                        <input type="password" name="password" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label>{{ t('location') }}</label>
                        <select name="location" required>
                            <option value="">{{ t('select_location') }}</option>
                            <option value="Kuala Lumpur">Kuala Lumpur</option>
                            <option value="Selangor">Selangor</option>
                            <option value="Penang">Penang</option>
                            <option value="Johor">Johor</option>
                            <option value="Other">Lain-lain</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>{{ t('register_as') }}</label>
                        <select name="user_type" required>
                            <option value="freelancer">{{ t('freelancer_find_work') }}</option>
                            <option value="client">{{ t('client_post_work') }}</option>
                            <option value="both">{{ t('both') }}</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-top: 20px;">
                        <label style="display: flex; align-items: start; gap: 10px; cursor: pointer; font-size: 14px; line-height: 1.5;">
                            <input type="checkbox" id="privacyConsent" name="privacy_consent" required style="margin-top: 4px; cursor: pointer;">
                            <span>
                                I agree to the <a href="#" onclick="app.showPrivacyPolicy(event)" style="color: var(--primary); text-decoration: underline;">Privacy Policy</a> and consent to GigHala Tech processing my personal data as described, including identity verification, payment processing, and compliance with PDPA 2010.
                            </span>
                        </label>
                    </div>

                    <div class="form-group" style="margin-top: 16px; display: none;" id="socsoConsentGroup">
                        <label style="display: flex; align-items: start; gap: 10px; cursor: pointer; font-size: 14px; line-height: 1.5;">
                            <input type="checkbox" id="socsoConsent" name="socso_consent" style="margin-top: 4px; cursor: pointer;">
                            <span style="color: var(--text-gray);">
                                I agree to mandatory SOCSO deductions (1.25%) as required by the Gig Workers Bill 2025. GigHala will automatically deduct and remit SOCSO contributions from my earnings. I understand this provides me with benefits including medical coverage, disability allowance, invalidity pension, and work accident protection.
                            </span>
                        </label>
                    </div>

                    <button type="submit" class="btn-modal-primary">{{ t('register_free') }}</button>

                    <div style="margin: 20px 0; text-align: center; position: relative;">
                        <span style="background: white; padding: 0 10px; position: relative; z-index: 1; color: #666;">or sign up with</span>
                        <hr style="position: absolute; top: 50%; left: 0; right: 0; z-index: 0; border: none; border-top: 1px solid #ddd;">
                    </div>

                    <div class="social-login-buttons">
                        <a href="/api/auth/google" class="btn-social btn-google">
                            <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill="#4285F4"/>
                                <path d="M9.003 18c2.43 0 4.467-.806 5.956-2.184L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z" fill="#34A853"/>
                                <path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                                <path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill="#EA4335"/>
                            </svg>
                            Google
                        </a>

                    </div>

                    <p class="modal-footer-text">{{ t('have_account') }} <a href="#" onclick="app.switchToLogin()">{{ t('login_now') }}</a></p>
                </form>
            </div>
        </div>

        <!-- Modal: Privacy Policy -->
        <div id="privacyPolicyModal" class="modal">
            <div class="modal-content modal-large" style="max-width: 800px; max-height: 85vh; overflow-y: auto;">
                <button class="modal-close" onclick="app.closeModal('privacyPolicyModal')">&times;</button>
                <h2 class="modal-title">Privacy Policy - GigHala Tech Sdn Bhd</h2>
                <div style="padding: 20px; line-height: 1.6; font-size: 14px;">
                    <h3>1. Introduction</h3>
                    <p>GigHala Tech Sdn Bhd ("we", "us", "our") is committed to protecting your personal data in accordance with the Personal Data Protection Act 2010 (PDPA) and its amendments. This Privacy Policy explains how we collect, use, disclose, and protect your personal data when you use the GigHala mobile app ("App") as a freelancer, client, or visitor.</p>
                    <p>We process personal data only for lawful purposes related to providing gig matching, payment facilitation, and app services.</p>
                    <p><strong>Data Protection Officer (DPO):</strong><br>
                    Email: dpo@gighala.my<br>
                    Contact: privacy@gighala.my</p>

                    <h3>2. Personal Data We Collect</h3>
                    <p>We collect the following types of personal data:</p>
                    <ul>
                        <li><strong>Basic Information:</strong> Full name, phone number, email, profile photo, date of birth.</li>
                        <li><strong>Identity Verification:</strong> NRIC/Passport details (staged: last 4 digits initially; full for payouts > RM500), selfie for verification.</li>
                        <li><strong>Financial Data:</strong> Bank account/e-wallet details (e.g., Touch 'n Go), transaction history.</li>
                        <li><strong>Gig-Related Data:</strong> Skills, video pitches, location (for matching), earnings records, ratings/reviews.</li>
                        <li><strong>Device/Usage Data:</strong> IP address, device ID, app usage logs.</li>
                    </ul>
                    <p>Sensitive personal data (e.g., religious preferences for halal matching) is collected only with your explicit consent.</p>

                    <h3>3. Purposes of Processing</h3>
                    <p>We process your personal data to:</p>
                    <ul>
                        <li>Facilitate gig matching, applications, and communications.</li>
                        <li>Process payments and payouts (via licensed gateways like iPay88/SenangPay).</li>
                        <li>Verify identity and prevent fraud (KYC/AML compliance).</li>
                        <li>Provide earnings summaries and tax reports (aligned with LHDN and Gig Workers Bill 2025).</li>
                        <li>Improve app features and send notifications (with consent).</li>
                        <li>Comply with legal obligations (e.g., SOCSO contributions, dispute resolution).</li>
                    </ul>

                    <h3>4. Consent and Withdrawal</h3>
                    <p>By registering or using the App, you consent to this processing. You may withdraw consent at any time via app settings or by emailing us‚Äîthis may limit app functionality (e.g., no payouts without financial data).</p>

                    <h3>5. Disclosure to Third Parties</h3>
                    <p>We may share data with:</p>
                    <ul>
                        <li>Payment gateways and banks for transactions.</li>
                        <li>Service providers (e.g., cloud storage, analytics‚Äîbound by PDPA).</li>
                        <li>Authorities (e.g., LHDN, PDPC, Gig Workers Tribunal) as required by law.</li>
                    </ul>
                    <p>No sale of data to marketers without explicit opt-in.</p>

                    <h3>6. Data Security and Breach Notification</h3>
                    <p>We use encryption (256-bit for NRIC/financial data) and secure servers. In case of a breach likely to cause significant harm, we will notify you and the Personal Data Protection Commissioner (PDPC) as per 2025 guidelines.</p>

                    <h3>7. Your Rights</h3>
                    <p>Under PDPA, you have the right to:</p>
                    <ul>
                        <li>Access and correct your data.</li>
                        <li>Request data portability (export in structured format).</li>
                        <li>Limit processing (e.g., opt-out of marketing).</li>
                        <li>Delete your account and data (subject to legal retention).</li>
                    </ul>
                    <p>Submit requests to privacy@gighala.my‚Äîwe respond within 30 days.</p>

                    <h3>8. Data Retention</h3>
                    <p>We retain data only as needed (e.g., 7 years for financial records per tax laws) or until account deletion.</p>

                    <h3>9. Changes to This Policy</h3>
                    <p>We may update this Policy‚Äîsignificant changes notified via app/email.</p>
                    <p><strong>Last Updated:</strong> December 2025</p>
                </div>
                <div style="padding: 20px; text-align: center; border-top: 1px solid #ddd;">
                    <button class="btn-modal-primary" onclick="app.closeModal('privacyPolicyModal')" style="min-width: 150px;">Close</button>
                </div>
            </div>
        </div>

        <!-- Modal: Gig Details -->
        <div id="gigModal" class="modal">
            <div class="modal-content modal-large">
                <button class="modal-close" onclick="app.closeModal('gigModal')">&times;</button>
                <div id="gigDetails">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
    <script>
        // Initialize the app when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            app.init();
        });
        
        async function toggleLanguage() {
            const currentLang = '{{ lang }}';
            const newLang = currentLang === 'ms' ? 'en' : 'ms';

            try {
                const response = await fetch('/api/language', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ language: newLang })
                });

                if (response.ok) {
                    // Reload page to apply language change
                    location.reload();
                } else {
                    console.error('Failed to change language');
                }
            } catch (error) {
                console.error('Error changing language:', error);
            }
        }

        // Countdown Timer to 01/01/2026
        function updateCountdown() {
            const targetDate = new Date('2026-01-01T00:00:00').getTime();
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                document.getElementById('countdownTimer').innerHTML = 'üéâ LAUNCH!';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            const countdownText = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            document.getElementById('countdownTimer').innerHTML = countdownText;
        }

        // Initialize countdown and update every second
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>
